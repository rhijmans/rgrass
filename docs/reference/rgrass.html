<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Interface between GRASS geographical information system and R — rgrass7-package • rgrass7</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Interface between GRASS geographical information system and R — rgrass7-package"><meta property="og:description" content="Interpreted interface between GRASS geographical
information system, versions 7 and 8, and R, based on starting R from within the
GRASS environment, or on running R stand-alone and creating a throw-away GRASS environment from within R. The interface uses classes defined in the sp package
to hold spatial data."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">rgrass7</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.2-7</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/rsbivand/rgrass/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Interface between GRASS geographical information system and R</h1>
    
    <div class="hidden name"><code>rgrass.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Interpreted interface between GRASS geographical
information system, versions 7 and 8, and R, based on starting R from within the
GRASS environment, or on running R stand-alone and creating a throw-away GRASS environment from within R. The interface uses classes defined in the sp package
to hold spatial data.</p>
    </div>


    <div id="details">
    <h2>Details</h2>
    <p>Index:</p><div class="sourceCode"><pre><code>
readRAST               read GRASS raster files
writeRAST              write GRASS raster files
readVECT               read GRASS vector object files
writeVECT              write GRASS vector object files
gmeta                  read GRASS metadata from the current LOCATION
getLocationProj         return a PROJ.4 string of projection information
gmeta2grd               create a GridTopology object from the GRASS region
vInfo                   return vector geometry information
vColumns                return vector database columns information
vDataCount              return count of vector database rows
vect2neigh              return area neighbours with shared boundary length
</code></pre></div><p>Note that the examples now use the smaller subset North Carolina location: <a href="https://grass.osgeo.org/sampledata/north_carolina/nc_basic_spm_grass7.tar.gz" class="external-link">https://grass.osgeo.org/sampledata/north_carolina/nc_basic_spm_grass7.tar.gz</a></p>
    </div>
    <div id="author">
    <h2>Author</h2>
    <p>Roger Bivand</p>
<p>Maintainer: Roger Bivand &lt;Roger.Bivand@nhh.no&gt;</p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span class="fu"><a href="gmeta.html">use_sp</a></span><span class="op">(</span><span class="op">)</span></span>
<span class="r-in"><span class="va">run</span> <span class="op">&lt;-</span> <span class="cn">FALSE</span></span>
<span class="r-in"><span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/nchar.html" class="external-link">nchar</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Sys.getenv.html" class="external-link">Sys.getenv</a></span><span class="op">(</span><span class="st">"GISRC"</span><span class="op">)</span><span class="op">)</span> <span class="op">&gt;</span> <span class="fl">0</span> <span class="op">&amp;&amp;</span></span>
<span class="r-in">  <span class="fu"><a href="https://rdrr.io/r/base/dcf.html" class="external-link">read.dcf</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Sys.getenv.html" class="external-link">Sys.getenv</a></span><span class="op">(</span><span class="st">"GISRC"</span><span class="op">)</span><span class="op">)</span><span class="op">[</span><span class="fl">1</span>,<span class="st">"LOCATION_NAME"</span><span class="op">]</span> <span class="op">==</span> <span class="st">"nc_basic_spm_grass7"</span><span class="op">)</span> <span class="va">run</span> <span class="op">&lt;-</span> <span class="cn">TRUE</span></span>
<span class="r-in"><span class="kw">if</span> <span class="op">(</span><span class="va">run</span><span class="op">)</span> <span class="op">{</span></span>
<span class="r-in"><span class="co">#  require(rgdal)</span></span>
<span class="r-in">  <span class="va">elevation</span> <span class="op">&lt;-</span> <span class="fu"><a href="readRAST.html">readRAST</a></span><span class="op">(</span><span class="st">"elevation"</span>, ignore.stderr<span class="op">=</span><span class="cn">TRUE</span>, plugin<span class="op">=</span><span class="cn">FALSE</span><span class="op">)</span></span>
<span class="r-in">  <span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">elevation</span><span class="op">)</span></span>
<span class="r-in"><span class="op">}</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>               Length                Class                 Mode </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>              2025000 SpatialGridDataFrame                   S4 </span>
<span class="r-in"><span class="kw">if</span> <span class="op">(</span><span class="va">run</span><span class="op">)</span> <span class="op">{</span></span>
<span class="r-in">  <span class="va">grd</span> <span class="op">&lt;-</span> <span class="fu"><a href="gmeta.html">gmeta2grd</a></span><span class="op">(</span>ignore.stderr<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span>
<span class="r-in">  <span class="va">grd</span></span>
<span class="r-in"><span class="op">}</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                       X1     X2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> cellcentre.offset 630005 215005</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> cellsize              10     10</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> cells.dim           1500   1350</span>
<span class="r-in"><span class="kw">if</span> <span class="op">(</span><span class="va">run</span><span class="op">)</span> <span class="op">{</span></span>
<span class="r-in">  <span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">1</span><span class="op">)</span></span>
<span class="r-in">  <span class="va">pts</span> <span class="op">&lt;-</span> <span class="fu">sp</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/sp/man/spsample.html" class="external-link">spsample</a></span><span class="op">(</span><span class="va">elevation</span>, <span class="fl">200</span>, <span class="st">"random"</span><span class="op">)</span></span>
<span class="r-in">  <span class="va">smple</span> <span class="op">&lt;-</span> <span class="fu">sp</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/sp/man/SpatialPoints.html" class="external-link">SpatialPointsDataFrame</a></span><span class="op">(</span><span class="va">pts</span>, data<span class="op">=</span><span class="fu">sp</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/sp/man/over.html" class="external-link">over</a></span><span class="op">(</span><span class="va">pts</span>, <span class="va">elevation</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-in">  <span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">smple</span><span class="op">)</span></span>
<span class="r-in"><span class="op">}</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                 Length                  Class                   Mode </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                    200 SpatialPointsDataFrame                     S4 </span>
<span class="r-in"><span class="kw">if</span> <span class="op">(</span><span class="va">run</span><span class="op">)</span> <span class="op">{</span></span>
<span class="r-in">  <span class="fu"><a href="readVECT.html">writeVECT</a></span><span class="op">(</span><span class="va">smple</span>, <span class="st">"sp_dem"</span>, v.in.ogr_flags<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"overwrite"</span>, <span class="st">"o"</span><span class="op">)</span>, ignore.stderr<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span>
<span class="r-in">  <span class="va">bugsDF</span> <span class="op">&lt;-</span> <span class="fu"><a href="readVECT.html">readVECT</a></span><span class="op">(</span><span class="st">"schools"</span>, ignore.stderr<span class="op">=</span><span class="cn">TRUE</span>, mapset<span class="op">=</span><span class="st">"PERMANENT"</span><span class="op">)</span></span>
<span class="r-in">  <span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">bugsDF</span><span class="op">)</span></span>
<span class="r-in"><span class="op">}</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> WARNING: Vector map &lt;sp_dem&gt; already exists and will be overwritten</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Discarded datum NAD83_High_Accuracy_Reference_Network in Proj4 definition: +proj=lcc +lat_0=33.75 +lon_0=-79 +lat_1=36.1666666666667 +lat_2=34.3333333333333 +x_0=609601.22 +y_0=0 +ellps=GRS80 +units=m +no_defs</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                 Length                  Class                   Mode </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                    167 SpatialPointsDataFrame                     S4 </span>
<span class="r-in"><span class="kw">if</span> <span class="op">(</span><span class="va">run</span><span class="op">)</span> <span class="op">{</span></span>
<span class="r-in">  <span class="fu"><a href="readVECT.html">vInfo</a></span><span class="op">(</span><span class="st">"streams"</span>, ignore.stderr<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span>
<span class="r-in"><span class="op">}</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      nodes     points      lines boundaries  centroids      areas    islands </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       8645          0       8554          0          0          0          0 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> primitives      map3d </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       8554          0 </span>
<span class="r-in"><span class="kw">if</span> <span class="op">(</span><span class="va">run</span><span class="op">)</span> <span class="op">{</span></span>
<span class="r-in">  <span class="fu"><a href="readVECT.html">vColumns</a></span><span class="op">(</span><span class="st">"streams"</span>, ignore.stderr<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span>
<span class="r-in"><span class="op">}</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         storageType       name</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1           INTEGER        cat</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2  DOUBLE PRECISION     FNODE_</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3  DOUBLE PRECISION     TNODE_</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4  DOUBLE PRECISION     LPOLY_</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5  DOUBLE PRECISION     RPOLY_</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6  DOUBLE PRECISION     LENGTH</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7  DOUBLE PRECISION FULL_HYDRO</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8  DOUBLE PRECISION FULL_HYD_1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9         CHARACTER      FTYPE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10          INTEGER      FCODE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 11        CHARACTER       NAME</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 12        CHARACTER   RCH_CODE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 13        CHARACTER     I_vs_P</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 14        CHARACTER   USGSstrm</span>
<span class="r-in"><span class="kw">if</span> <span class="op">(</span><span class="va">run</span><span class="op">)</span> <span class="op">{</span></span>
<span class="r-in">  <span class="fu"><a href="readVECT.html">vDataCount</a></span><span class="op">(</span><span class="st">"streams"</span>, ignore.stderr<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span>
<span class="r-in"><span class="op">}</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 8554</span>
<span class="r-in"><span class="kw">if</span> <span class="op">(</span><span class="va">run</span><span class="op">)</span> <span class="op">{</span></span>
<span class="r-in">  <span class="va">streams</span> <span class="op">&lt;-</span> <span class="fu"><a href="readVECT.html">readVECT</a></span><span class="op">(</span><span class="st">"streams"</span>, type<span class="op">=</span><span class="st">"line"</span>,</span>
<span class="r-in">    remove.duplicates<span class="op">=</span><span class="cn">FALSE</span>, ignore.stderr<span class="op">=</span><span class="cn">TRUE</span>, plugin<span class="op">=</span><span class="cn">FALSE</span><span class="op">)</span></span>
<span class="r-in">  <span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">streams</span><span class="op">)</span></span>
<span class="r-in"><span class="op">}</span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Discarded datum NAD83_High_Accuracy_Reference_Network in Proj4 definition: +proj=lcc +lat_0=33.75 +lon_0=-79 +lat_1=36.1666666666667 +lat_2=34.3333333333333 +x_0=609601.22 +y_0=0 +ellps=GRS80 +units=m +no_defs</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                Length                 Class                  Mode </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                  8554 SpatialLinesDataFrame                    S4 </span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Roger Bivand.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.2.</p>
</div>

      </footer></div>

  


  

  </body></html>

